<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Navigation Bar -->
    <div class="navbar">
        <a href="index.html">Home</a>
        <a href="settings.html">Settings</a>
    </div>

    <h1>Settings</h1>
    
    <label for="department">Select Department:</label>
    <select id="department">
        <option value="" disabled selected>Choose department</option>
    </select>
    
    <button id="saveSettings">Save Department</button>

    <script>
        // Simulate reading JSON file from root
        const data = {
            "departments": ["IT", "HR", "Finance"]
        };

        const departmentSelect = document.getElementById('department');
        const saveSettingsBtn = document.getElementById('saveSettings');

        // Populate department dropdown
        data.departments.forEach(department => {
            const option = document.createElement('option');
            option.value = department;
            option.textContent = department;
            departmentSelect.appendChild(option);
        });

        // Save selected department to localStorage
        saveSettingsBtn.addEventListener('click', function () {
            const selectedDepartment = departmentSelect.value;
            if (!selectedDepartment) {
                alert('Please select a department.');
                return;
            }
            localStorage.setItem('selectedDepartment', selectedDepartment);
            alert('Department saved successfully!');
        });

        // Pre-select the department if it's already saved
        const storedDepartment = localStorage.getItem('selectedDepartment');
        if (storedDepartment) {
            departmentSelect.value = storedDepartment;
        }
    </script>

</body>
</html>
